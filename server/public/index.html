<!DOCTYPE HTML>
<html>

<head>
  <link rel="stylesheet" href="css/jsat.css">
  <link href="https://cdn.jsdelivr.net/npm/jquery-ui@1.13.2/themes/base/theme.min.css" rel="stylesheet">
  <script type="importmap">
    {
        "imports": {
                "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
        }
    }
</script>
  <script src="./js/jsat.js" type="module"></script>
  <!--<script src = "./dist/bundle.js"></script>-->



</head>

<body>
  <div class="main-window">
    <!-- top bar-->
    <div class="top-bar" id="topBar">
      <button id="jsatTitle" class="jsat-title top-bar-button"> jsat v0.1 </button>
      <div class="tab">
        <button id="simTabButton" class="sim-tab top-bar-button tab-link active-border">sim</button>
        <button id="plotTabButton" class="plot-tab top-bar-button tab-link">plot</button>
        <button id="animTabButton" class="animation-tab top-bar-button tab-link">animation</button>
        <div class="meatball-div"><img src="./images/nasa_aquamarine.png" alt="nasa.gov" width="50" height="50"></div>
      </div>
    </div>
    <!-- main area -->
    <div id="mainDiv" class="main-div">

      <!-- console log -->
      <textarea id="consoleLog" class="console-log">welcome to jsat!</textarea>

      <div class="tab">

        <!-- simulation tab -->
        <div id="simTab" class="sim-tab tab-content">

          <!-- simulation options -->
          <div id="simOptionsDiv" class="sim-options-div">

            <!-- options form -->
            <form class="form">
              <table class="table">
                <tr>
                  <td><label class='form-font' for="simName">sim name:</label><br></td>
                  <td><input id="simName" class='form-input' type='text' name="simName" placeholder="optional"><br>
                  </td>
                </tr>
                <tr>
                  <td><label class='form-font' for="simStartTime">sim start time:</label><br></td>
                  <td><input id="simStartTime" class='form-input' type='text' name="simStartTime" value="0"><br>
                  </td>
                </tr>
                <tr>
                  <td><label class='form-font' for="simStopTime">sim stop time:</label><br></td>
                  <td><input id="simStopTime" class='form-input' type='text' name="simStopTime" value="10"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font' for="simDt">sim dt:</label><br></td>
                  <td><input id="simDt" class='form-input' type='text' name="simDt" placeholder="variable step"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font' for="simNruns"># of MC runs:</label><br></td>
                  <td><input id="simNruns" class='form-input' type='text' name="simNruns" value="0"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font' for="simSaveLocation">save location:</label><br></td>
                  <td><input id="simSaveLocation" class='form-input' type='text' name="simSaveLocation"
                      placeholder="optional"><br></td>
                </tr>
              </table>
            </form>
            <button id="simButton" class="sim-button"> simulate </button>
          </div>

          <!-- model loader -->
          <div id="modelLoaderDiv" class="model-loader-div">
            <button id="basesButton" class="model-button">bases</button>
            <button id="bodiesButton" class="model-button">bodies</button>
            <button id="jointsButton" class="model-button">joints</button>
            <button id="gravityButton" class="model-button">gravity</button>
            <button id="environmentsButton" class="model-button">environments</button>
            <button id="sensorsButton" class="model-button">sensors</button>
            <button id="softwareButton" class="model-button">software</button>
            <button id="actuatorsButton" class="model-button">actuators</button>
            <button id="modelsButton" class="model-button">models</button>
            <button id="scenariosButton" class="model-button">scenarios</button>
          </div>

          <div id="scenariosLoaderDiv" class="model-loader-div hidden-loader-div">            
            <button id="scenariosBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id="basesLoaderDiv" class="model-loader-div hidden-loader-div">
            <button id="baseButton" class="model-button">+base</button>
            <button id="earthButton" class="model-button">+earth</button>
            <button id="solarButton" class="model-button not-avail">+solar system</button>
            <button id="basesBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id="bodiesLoaderDiv" class="model-loader-div hidden-loader-div">
            <button id="boxButton" class="model-button">+box</button>
            <button id="sphereButton" class="model-button not-avail">+sphere</button>
            <button id="cylinderButton" class="model-button">+cylinder</button>
            <button id="bodyBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id="jointsLoaderDiv" class="model-loader-div hidden-loader-div">
            <button id="fixedButton" class="model-button">+fixed</button>
            <button id="floatingButton" class="model-button">+floating</button>
            <button id="prismaticButton" class="model-button">+prismatic</button>
            <button id="revoluteButton" class="model-button">+revolute</button>
            <button id="sphericalButton" class="model-button not-avail">+spherical</button>
            <button id="jointBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id="gravityLoaderDiv" class="model-loader-div hidden-loader-div">
            <button id="constantGravityButton" class="model-button">+constant</button>
            <button id="twoBodyEarthButton" class="model-button">+two body earth</button>
            <button id="egm96Button" class="model-button not-avail">+egm96</button>
            <button id="gravityBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id="environmentsLoaderDiv" class="model-loader-div hidden-loader-div">
            <button id="igrfButton" class="model-button not-avail">+igrf</button>
            <button id="srpButton" class="model-button not-avail">+srp</button>
            <button id="aerofButton" class="model-button not-avail">+aero</button>
            <button id="environmentsBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id="actuatorLoaderDiv" class="model-loader-div hidden-loader-div">
            <button id="thrusterButton" class="model-button">+thruster</button>
            <button id="actuatorBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id="softwareLoaderDiv" class="model-loader-div hidden-loader-div">
            <button id="timedCommandButton" class="model-button">+timed command</button>
            <button id="customSoftwareButton" class="model-button">+custom</button>
            <button id="softwareBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id="sensorLoaderDiv" class="model-loader-div hidden-loader-div">
            <button id="simpleAttitudeSensorButton" class="model-button">+simple attitude</button>
            <button id="simpleAttitudeSensor4Button" class="model-button">+simple attitude 4</button>
            <button id="simpleRateSensorButton" class="model-button">+simple angular rate</button>
            <button id="simpleRateSensor3Button" class="model-button">+simple angular rate 3</button>
            <button id="sensorBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id="modelsLoaderDiv" class="model-loader-div hidden-loader-div">
            <button id="modelsBackButton" class="model-button model-loader-back-btn">back</button>
          </div>

          <div id='cyToolbar' class='cy-toolbar'>
            <button id='drawModeBtn' class='draw-mode-btn not-active-border'>connect</button>
            <button id='deleteBtn' class='delete-btn not-active-border'>delete</button>
            <button id='saveScenarioBtn' class='save-scenario-btn not-active-border'>save scenario</button>
            <button id='clearCanvasBtn' class='clear-canvas-btn not-active-border'>clear canvas</button>
          </div>
          <div id="cyCanvasDiv" class="cy-canvas-div"></div>
          <div id="nameOnlyDiv" class="element-details-div">
            <div class="element-title-div">enter name to add</div>
            <div class="element-table-div">
              <table class="table">
                <tr>
                  <td><label class='form-font'>name:</label><br></td>
                  <td><input id="newElementName" class='form-input' type='text' placeholder="name"><br>
                  </td>
                </tr>
              </table>
            </div>
            <div class="add-body-buttons-div">
              <button id="addElementSaveButton" class="add-body-save-button">save</button>
              <button id="addElementCancelButton" class="add-body-cancel-button">cancel</button>
            </div>
          </div>          

          <div id="addBodyDiv" class="element-details-div">
            <div class="element-title-div">
              enter info to add a new body
            </div>
            <div class="element-table-div">
              <table id="bodyTable" class="table">
                <tr>
                  <td><label class='form-font'>name:</label><br></td>
                  <td><input id="newBodyName" class='form-input' type='text' placeholder="name"><br>
                  </td>
                </tr>
                <tr>
                  <td><label class='form-font'>mass:</label><br></td>
                  <td><input id="newBodyMass" class='form-input' type='text' placeholder="1"><br></td>
                  <td><input id="newBodyMassDist" class='form-input' type='text' placeholder="distribution"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>cm x:</label><br></td>
                  <td><input id="newBodyCmX" class='form-input' type='text' placeholder="0"><br></td>
                  <td><input id="newBodyCmXDist" class='form-input' type='text' placeholder="distribution"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>cm y:</label><br></td>
                  <td><input id="newBodyCmY" class='form-input' type='text' placeholder="0"><br></td>
                  <td><input id="newBodyCmYDist" class='form-input' type='text' placeholder="distribution"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>cm z:</label><br></td>
                  <td><input id="newBodyCmZ" class='form-input' type='text' placeholder="0"><br></td>
                  <td><input id="newBodyCmZDist" class='form-input' type='text' placeholder="distribution"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Ixx:</label><br></td>
                  <td><input id="newBodyIxx" class='form-input' type='text' placeholder="1"><br></td>
                  <td><input id="newBodyIxxDist" class='form-input' type='text' placeholder="distribution"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Iyy:</label><br></td>
                  <td><input id="newBodyIyy" class='form-input' type='text' placeholder="1"><br></td>
                  <td><input id="newBodyIyyDist" class='form-input' type='text' placeholder="distribution"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Izz:</label><br></td>
                  <td><input id="newBodyIzz" class='form-input' type='text' placeholder="1"><br></td>
                  <td><input id="newBodyIzzDist" class='form-input' type='text' name="newBodyIzzDist"
                      placeholder="distribution"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Ixy:</label><br></td>
                  <td><input id="newBodyIxy" class='form-input' type='text' placeholder="0"><br></td>
                  <td><input id="newBodyIxyDist" class='form-input' type='text' placeholder="distribution"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Ixz:</label><br></td>
                  <td><input id="newBodyIxz" class='form-input' type='text' placeholder="0"><br></td>
                  <td><input id="newBodyIxzDist" class='form-input' type='text' placeholder="distribution"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Iyz:</label><br></td>
                  <td><input id="newBodyIyz" class='form-input' type='text' placeholder="0"><br></td>
                  <td><input id="newBodyIyzDist" class='form-input' type='text' placeholder="distribution"><br></td>
                </tr>

                <tr>
                  <td><label class='form-font'>material:</label><br></td>
                  <td><input id="newBodyMaterial" class='form-input' type='text' placeholder="basic"><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>color:</label><br></td>
                  <td><input id="newBodyColor" class='form-input' type='text' placeholder="green"><br></td>
                </tr>
              </table>
            </div>
            <div class="add-body-buttons-div">
              <button id="addBodySaveButton" class="add-body-save-button">save</button>
              <button id="addBodyCancelButton" class="add-body-cancel-button">cancel</button>
            </div>
          </div>

          <div id='addJointDiv' class='element-details-div'>
            <div class="element-title-div">
              enter info to add a new joint
            </div>
            <div class='element-table-div'>
              <table id='jointTable' class='table'>
                <tr>
                  <td><label class='form-font'>name:</label><br></td>
                  <td><input id='newJointName' class='form-input' type='text' placeholder='name'><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Fp&Phi;:</label><br></td>
                  <td><input id='newJointFpPhi' class='form-input' type='text' placeholder='I(3)'><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Fp&rho;:</label><br></td>
                  <td><input id='newJointFpRho' class='form-input' type='text' placeholder='zeros(3)'><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Fs&Phi;:</label><br></td>
                  <td><input id='newJointFsPhi' class='form-input' type='text' placeholder='I(3)'><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>Fs&rho;:</label><br></td>
                  <td><input id='newJointFsRho' class='form-input' type='text' placeholder='zeros(3)'><br></td>
                </tr>
              </table>
            </div>
            <div class="add-body-buttons-div">
              <button id="addJointSaveButton" class="add-body-save-button">save</button>
              <button id="addJointCancelButton" class="add-body-cancel-button">cancel</button>
            </div>
          </div>

          <div id='addActuatorDiv' class='element-details-div'>
            <div class="element-title-div">
              enter info to add a new actuator
            </div>
            <div class='element-table-div'>
              <table id='actuatorTable' class='table'>
                <tr>
                  <td><label class='form-font'>name:</label><br></td>
                  <td><input id='newActuatorName' class='form-input' type='text' placeholder='name'><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>rotation:</label><br></td>
                  <td><input id='newActuatorRotation' class='form-input' type='text' placeholder='I(3)'><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>translation:</label><br></td>
                  <td><input id='newActuatorTranslation' class='form-input' type='text' placeholder='zeros(3)'><br></td>
                </tr>
              </table>
            </div>
            <div class="add-body-buttons-div">
              <button id="addActuatorSaveButton" class="add-body-save-button">save</button>
              <button id="addActuatorCancelButton" class="add-body-cancel-button">cancel</button>
            </div>
          </div>

          <div id='addGravityDiv' class='element-details-div'>
            <div class="element-title-div">
              enter info to add a gravity model
            </div>
            <div class='element-table-div'>
              <table id='gravityTable' class='table'>
                <tr>
                  <td><label class='form-font'>name:</label><br></td>
                  <td><input id='newGravityName' class='form-input' type='text' placeholder='name'><br></td>
                </tr>
              </table>
            </div>
            <div class="add-body-buttons-div">
              <button id="addGravitySaveButton" class="add-body-save-button">save</button>
              <button id="addGravityCancelButton" class="add-body-cancel-button">cancel</button>
            </div>
          </div>

          <div id='addSoftwareDiv' class='element-details-div'>
            <div class="element-title-div">
              enter info to add software
            </div>
            <div class='element-table-div'>
              <table id='softwareTable' class='table'>
                <tr>
                  <td><label class='form-font'>name:</label><br></td>
                  <td><input id='newSoftwareName' class='form-input' type='text' placeholder='name'><br></td>
                </tr>
              </table>
            </div>
            <div class="add-body-buttons-div">
              <button id="addSoftwareSaveButton" class="add-body-save-button">save</button>
              <button id="addSoftwareCancelButton" class="add-body-cancel-button">cancel</button>
            </div>
          </div>

          <div id='addSensorDiv' class='element-details-div'>
            <div class="element-title-div">
              enter info to add sensors
            </div>
            <div class='element-table-div'>
              <table id='sensorTable' class='table'>
                <tr>
                  <td><label class='form-font'>name:</label><br></td>
                  <td><input id='newSensorName' class='form-input' type='text' placeholder='name'><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>body frame translation:</label><br></td>
                  <td><input id='newSensorTranslation' class='form-input' type='text' placeholder='zeros(3)'><br></td>
                </tr>
                <tr>
                  <td><label class='form-font'>body frame rotation:</label><br></td>
                  <td><input id='newSensorRotation' class='form-input' type='text' placeholder='I(3)'><br></td>
                </tr>
              </table>
            </div>
            <div class="add-body-buttons-div">
              <button id="addSensorSaveButton" class="add-body-save-button">save</button>
              <button id="addSensorCancelButton" class="add-body-cancel-button">cancel</button>
            </div>
          </div>
        </div>
        <!-- plotting tab -->
        <div id="plotTab" class="plot-tab tab-content">
          <!-- sims -->
          <div id="sims" class="sims">
            <button id="simsTitle" class="title-button"> simulations </button>
            <select id="simSelect" class="sim-select" name="sims" multiple></select>
            <button id="loadSimStates" class="load-from-sim-btn"> load states from sim </button>
            <input type='file' id='loadFileInput' class='load-file-input' accept=".csv">                        
            <button id="loadFileStates" class="load-from-file-btn"> load states from file </button>
            <div id="chosenFileText" class="chosen-file-text"></div>
          </div>
          <!-- states -->
          <div class='states' id='states'>
            <div class='x-states' id='xStates'>
              <button class='x-axis-title-button'>x axis</button>
              <select id="xStateSelect" class="x-state-select"></select>
            </div>
            <div class="y-states" id="yStates">
              <button class="title-button">y axis</button>
              <select id="yStateSelect" class="state-select" multiple></select>
            </div>
            <button id="plotState" class="plot-btn"> plot </button>
          </div>
          <!-- plot viewer -->
          <div class="plots" id="plotsDiv"></canvas></div>
        </div>

        <!-- animation tab -->
        <div id="animationTab" class="animation-tab tab-content">
          <div id="sims2" class="sims">
            <button id="sims2Title" class="title-button"> simulations </button>
            <select id="sim2Select" class="sim-select" name="sims" multiple></select>
            <button id="animateBtn" class="load-from-file-btn"> animate </button>
          </div>
          <div id="animationToolBar" class = "animation-toolbar">
            <button class='animation-target-btn'>target:</button>
            <select id="animationTarget" class="animation-target"></select>
          </div>
          <div id="animationDiv" class="animation-div"></div>
        </div>
      </div>
    </div>
  </div>

</body>

</html>